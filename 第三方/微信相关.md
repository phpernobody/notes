## 概念

#### 微信认证
>微信认证是微信公众平台为了确保公众帐号的信息的真实性、安全性，目前提供给微信公众服务号进行微信认证的服务。

[官方解释](http://kf.qq.com/faq/120322fu63YV131031NR36Fb.html)

#### 支付认证
>支付认证是开给财付通的认证，服务号先通过微信认证后再经过支付认证才能支付

#### 公众号接口
>微信官方提供给开发者的接口，不同资质的公众号对应不同的接口权限，详见[官方文档](http://mp.weixin.qq.com/wiki/13/8d4957b72037e3308a0ca1b21f25ae8d.html)

#### 服务器配置
>开发者启用并配置服务器URL，用户发给公众号的消息以及开发者需要的事件推送，将被微信转发到该URL

- token:开发者随便填写，用作生成签名（该Token会和接口URL中包含的Token进行比对，从而验证安全性）
- EncodingAESKey:由开发者手动填写或随机生成，将用作消息体加解密密钥

修改配置时需要验证服务器，验证方法是用同样的加密方法加密，然后跟微信发过来的加密签名做对比，如果正确，返回微信发的随机字符串([官方文档](https://mp.weixin.qq.com/wiki?id=mp1421135319&highline=encodingaeskey))**(PS:直接返回微信发送的随机字符串也可以验证成功，该步骤的目的是为了验证发送方是否是微信服务器)**

每次用户与微信的信息都是通过配置的服务URL进行互通，相当于一个信息通道

#### AccessToken中控服务器
>提供主动刷新和被动刷新机制来刷新accessToken并存储（为了防止并发刷新，注意加并发锁），提供给业务逻辑有效的accessToken

#### API-Proxy服务器
>专一与微信API对接，不同的服务器可以负责对接不同的业务逻辑，更可进行调用频率、权限限制


## 开发者模式步骤
1. 服务器配置并启动
2. 获取access_token [官方文档](http://mp.weixin.qq.com/wiki/14/9f9c82c1af308e3b14ba9b973f99a8ba.html)
	>通过`GET https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=APPID&secret=APPSECRET`获取，返回access_token和expires_in

3. 


## 接收消息


## 附录
#### 全局返回码
[官方文档](http://mp.weixin.qq.com/wiki/10/6380dc743053a91c544ffd2b7c959166.html)

#### 接口报警
>当微信服务器向开发者推送消息失败次数达到预定阈值时，会将报警消息发送到指定微信报警群中

[官方文档](https://mp.weixin.qq.com/wiki/7/c478375fae59150b26def82ec061f43b.html)

#### 在线调试
[传送门](http://mp.weixin.qq.com/debug/)

#### 



